---
interface Props {
  id: string;
}

const { id } = Astro.props;

const src = `http://localhost:8008/stream/${id}/master.m3u8`;
---

<video data-src={src} class="h-200" controls></video>
<script>
  import HLS from "hls.js";

  const video = document.querySelector("video")!;

  const hls = new HLS();
  hls.loadSource(video.dataset.src!);
  hls.attachMedia(video);
</script>
